(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(13),o=t.n(r),c=t(2),l=function(e){var n=e.submit,t=e.nameValue,a=e.nameHandler,r=e.numberValue,o=e.numberHandler;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"Name:",u.a.createElement("input",{value:t,onChange:a})),u.a.createElement("div",null,"Number:",u.a.createElement("input",{value:r,onChange:o})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"Add")))},i=function(e){var n=e.filter,t=e.handler;return u.a.createElement("div",null,"Filter shown with",u.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.name,t=e.number,a=e.handle,r=e.id;return u.a.createElement("li",null,n," ",t," ",u.a.createElement("button",{onClick:function(){return a(r)}},"Remove"))},d=function(e){var n=e.list,t=e.filter,a=e.handle;return u.a.createElement("ul",null,function(e,n){return e.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}).map(function(e){return u.a.createElement(m,{key:e.id,name:e.name,number:e.number,handle:a,id:e.id})})}(n,t))},f=function(e){var n=e.message;return null===n?null:1===n.type?u.a.createElement("div",{className:"noteSuccess"},n.name):0===n.type?u.a.createElement("div",{className:"noteError"},n.name):void 0},s=t(3),b=t.n(s),h="/api/persons",p=function(){return b.a.get(h).then(function(e){return e.data})},v=function(e){return b.a.post(h,e).then(function(e){return e.data})},E=function(e,n){return b.a.delete("".concat(h,"/").concat(e),n).then(function(e){return e.data})},w=function(e,n){return b.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},y=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(""),m=Object(c.a)(o,2),s=m[0],b=m[1],h=Object(a.useState)(""),y=Object(c.a)(h,2),g=y[0],j=y[1],O=Object(a.useState)(""),k=Object(c.a)(O,2),S=k[0],C=k[1],N=Object(a.useState)(null),T=Object(c.a)(N,2),H=T[0],V=T[1];Object(a.useEffect)(function(){p().then(function(e){r(e)})},[]);var A=function(e){v(e).then(function(e){return r(t.concat(e))}),V({name:"Added ".concat(e.name),type:1}),setTimeout(function(){V(null)},5e3)},D=function(e){var n=t.find(function(n){return n.name===e.name});w(n.id,e).then(function(n){r(t.map(function(t){return t.id!==e.id?t:n})),V({name:"Updated ".concat(e.name),type:1}),setTimeout(function(){V(null)},5e3)}).catch(function(e){V({name:"".concat(n.name," has already been removed from the phonebook"),type:0}),setTimeout(function(){V(null)},5e3)})};return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(f,{message:H}),u.a.createElement(i,{filter:S,handler:function(e){C(e.target.value)}}),u.a.createElement("h3",null,"Add a new number"),u.a.createElement(l,{submit:function(e){e.preventDefault();var n={name:s,number:g,id:t.length+1},a=t.map(function(e){return e.name});t.map(function(e){return e.number}).includes(n.number)?window.alert("Number ".concat(n.number," is already used by someone else in the phonebook")):a.includes(n.name)?window.confirm("".concat(n.name," is already in the phonebook, replace the old number with new one?"))&&D(n):A(n),b(""),j("")},nameValue:s,nameHandler:function(e){b(e.target.value)},numberValue:g,numberHandler:function(e){j(e.target.value)}}),u.a.createElement("h3",null,"Numbers"),u.a.createElement(d,{list:t,filter:S,handle:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Do you really wanna remove this person from the phonebook?")&&E(e,n).then(function(){r(t.filter(function(n){return n.id!==e})),V({name:"Removed ".concat(n.name),type:1}),setTimeout(function(){V(null)},5e3)}).catch(function(e){V({name:"".concat(n.name," has already been removed from the phonebook"),type:0}),setTimeout(function(){V(null)},5e3)})}}))};t(37);o.a.render(u.a.createElement(y,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a4c9f4e1.chunk.js.map