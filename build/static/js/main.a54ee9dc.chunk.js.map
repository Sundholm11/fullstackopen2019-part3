{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Numbers.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","_ref","submit","nameValue","nameHandler","numberValue","numberHandler","react_default","a","createElement","onSubmit","value","onChange","type","Filter","filter","handler","Note","name","number","handle","id","onClick","Numbers","_ref2","list","person","toLowerCase","includes","map","Numbers_Note","key","listNumbers","Notification","message","className","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","useEffect","personService","initialPersons","addPersons","newPerson","returnedPerson","setTimeout","catch","error","updatePersons","updateId","find","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personNames","window","alert","confirm","components_Numbers","removedPerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a54ee9dc.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ( {submit, nameValue, nameHandler, numberValue, numberHandler} ) => {\r\n    return (\r\n        <form onSubmit={submit}>\r\n            <div>\r\n                Name: \r\n                <input\r\n                    value={nameValue}\r\n                    onChange={nameHandler}\r\n                />\r\n            </div>\r\n            <div>\r\n                Number:\r\n                <input\r\n                    value={numberValue}\r\n                    onChange={numberHandler}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ( {filter, handler} ) => {\r\n    return (\r\n        <div>\r\n            Filter shown with\r\n            <input\r\n                value={filter}\r\n                onChange={handler}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Note = ({ name, number, handle, id }) => (\r\n    <li>\r\n        {name} {number} <button onClick={() => handle(id)}>Remove</button>\r\n    </li>\r\n)\r\n\r\nconst Numbers = ( {list, filter, handle} ) => {\r\n    const listNumbers = (list, filter) => (\r\n        list\r\n            .filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n            .map(person => \r\n                <Note\r\n                    key={person.id}\r\n                    name={person.name}\r\n                    number={person.number}\r\n                    handle={handle}\r\n                    id={person.id}\r\n                />\r\n            )\r\n    )\r\n    return (\r\n        <ul>{listNumbers(list, filter)}</ul>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst Notification = ( {message} ) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    if (message.type === 1) {\r\n        return (\r\n        <div className='noteSuccess'>\r\n            {message.name}\r\n        </div>\r\n        )\r\n    }\r\n    else if (message.type === 0) {\r\n        return (\r\n        <div className='noteError'>\r\n            {message.name}\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id, newObject) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Numbers from './components/Numbers'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons] = useState([])\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber] = useState('')\r\n    const [ filter, setFilter] = useState('')\r\n    const [ message, setMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    const checkPersons = (event) => {\r\n        event.preventDefault()\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        const personNames = persons.map(person => person.name)\r\n        const personNumbers = persons.map(person => person.number)\r\n        if (personNumbers.includes(newPerson.number)) {\r\n            window.alert(\r\n                `Number ${newPerson.number} is already used by someone else in the phonebook`\r\n            )\r\n        }\r\n        else if (personNames.includes(newPerson.name)) {\r\n            if (window.confirm(`${newPerson.name} is already in the phonebook, replace the old number with new one?`)) {\r\n                updatePersons(newPerson)\r\n            }\r\n        }\r\n        else {\r\n            addPersons(newPerson)\r\n        }\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n    \r\n    const addPersons = (newPerson) => {\r\n        personService\r\n                .create(newPerson)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.concat(returnedPerson))\r\n                    setMessage({name: `Added ${newPerson.name}`, type: 1})\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    setMessage({name: error.response.data.error, type: 0})\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 5000)\r\n                })\r\n    }\r\n\r\n    const updatePersons = (newPerson) => {\r\n        const updateId = persons.find(person => person.name === newPerson.name)\r\n        personService\r\n            .update(updateId.id, newPerson)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.map(person => person.id !== updateId.id ? person : returnedPerson))\r\n                setMessage({name: `Updated ${newPerson.name}`, type: 1})\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                }, 5000)\r\n            })\r\n            .catch(error => {\r\n                setMessage({name: `${updateId.name} has already been removed from the phonebook`, type: 0})\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                }, 5000)\r\n            })\r\n    }\r\n\r\n    const removePersons = (id) => {\r\n        const removedPerson = persons.find(person => person.id === id)\r\n        if(window.confirm(`Do you really wanna remove this person from the phonebook?`)) {\r\n            personService\r\n                .remove(id, removedPerson)\r\n                .then(() => {\r\n                    setPersons(persons.filter(person => person.id !== id))\r\n                    setMessage({name: `Removed ${removedPerson.name}`, type: 1})\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    setMessage({name: `${removedPerson.name} has already been removed from the phonebook`, type: 0})\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 5000)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} />\r\n            <Filter filter={filter} handler={handleFilterChange} />\r\n            <h3>Add a new number</h3>\r\n            <PersonForm\r\n                submit={checkPersons}\r\n                nameValue={newName}\r\n                nameHandler={handleNameChange}\r\n                numberValue={newNumber}\r\n                numberHandler={handleNumberChange}\r\n            />\r\n            <h3>Numbers</h3>\r\n            <Numbers list={persons} filter={filter} handle={removePersons} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}